#!/bin/bash
ARG=$1
FILE=/home/$USER/messages.log

case "$ARG" in
  clear) cat /dev/null > $FILE
      ;;
  count) echo $(wc -l $FILE | awk '{print $1}')
      ;;
  irc) echo $(date) - New IRC Message! >> $FILE
      twmnc -t IRC -c "New message!" --pos bottom_right
      ;;
  mpd_current) twmnc -d 1000 --pos bottom_left -t MPD -c "$(mpc current)"
      ;;
  view) COUNT=$(wc -l $FILE | awk '{print $1}')
       tail -n $COUNT $FILE
      ;;
esac
